{"cells":[{"cell_type":"markdown","id":"10249025","metadata":{"id":"10249025"},"source":["\n","# Simple Step-by-Step News Sentiment (Google Colab)\n","\n","This notebook:\n","- Gets news for AAPL, MSFT, AMZN, GOOGL, META, NVDA, TSLA\n","- Runs 4 sentiment models on each news text\n","- Picks a final label per article\n","- Maps labels to scores: positive=1, neutral=0.5, negative=0\n","- Averages per ticker and gives a simple BUY/SELL/NEUTRAL-style text\n"]},{"cell_type":"markdown","id":"5671f338","metadata":{"id":"5671f338"},"source":["## 1. Imports and tickers"]},{"cell_type":"code","execution_count":null,"id":"9ab226c1","metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":53,"status":"ok","timestamp":1765426204194,"user":{"displayName":"Dhimas Aditara","userId":"11895230327487857567"},"user_tz":-540},"id":"9ab226c1","outputId":"3c79d24f-086c-487a-8381-eef1398aec89"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["['AAPL', 'MSFT', 'AMZN', 'GOOGL', 'META', 'NVDA', 'TSLA']"]},"metadata":{},"execution_count":23}],"source":["\n","import re\n","from datetime import datetime, timedelta, timezone, date\n","\n","import pandas as pd\n","import requests\n","from transformers import pipeline\n","\n","pd.set_option(\"display.max_columns\", 50)\n","pd.set_option(\"display.width\", 120)\n","\n","TICKERS = [\"AAPL\", \"MSFT\", \"AMZN\", \"GOOGL\", \"META\", \"NVDA\", \"TSLA\"]\n","TICKERS"]},{"cell_type":"markdown","id":"ce983de8","metadata":{"id":"ce983de8"},"source":["## 2. Finnhub news function"]},{"cell_type":"code","execution_count":null,"id":"84318020","metadata":{"id":"84318020"},"outputs":[],"source":["\n","def fetch_news(ticker, days, api_key):\n","    url = \"https://finnhub.io/api/v1/company-news\"\n","    today = date.today()\n","    start = today - timedelta(days=days)\n","\n","    params = {\n","        \"symbol\": ticker,\n","        \"from\": start.strftime(\"%Y-%m-%d\"),\n","        \"to\": today.strftime(\"%Y-%m-%d\"),\n","        \"token\": api_key,\n","    }\n","\n","    try:\n","        r = requests.get(url, params=params)\n","        r.raise_for_status()\n","        data = r.json()\n","    except Exception as e:\n","        print(\"error fetching\", ticker, \":\", e)\n","        return pd.DataFrame(columns=[\"date\", \"ticker\", \"title\", \"body\", \"url\"])\n","\n","    rows = []\n","    for item in data:\n","        ts = item.get(\"datetime\")\n","        if not ts:\n","            continue\n","        d = datetime.fromtimestamp(ts, tz=timezone.utc).date()\n","        rows.append(\n","            {\n","                \"date\": d,\n","                \"ticker\": ticker,\n","                \"title\": item.get(\"headline\", \"\") or \"\",\n","                \"body\": item.get(\"summary\", \"\") or \"\",\n","                \"url\": item.get(\"url\", \"\") or \"\",\n","            }\n","        )\n","    return pd.DataFrame(rows)"]},{"cell_type":"markdown","id":"e14025f5","metadata":{"id":"e14025f5"},"source":["## 3. Get news for all tickers"]},{"cell_type":"code","execution_count":null,"id":"c29397b4","metadata":{"colab":{"base_uri":"https://localhost:8080/","height":352},"executionInfo":{"elapsed":1109,"status":"ok","timestamp":1765426205403,"user":{"displayName":"Dhimas Aditara","userId":"11895230327487857567"},"user_tz":-540},"id":"c29397b4","outputId":"e030341f-7ff0-4e74-d8c4-a2421eb00426"},"outputs":[{"output_type":"stream","name":"stdout","text":["fetching AAPL\n","fetching MSFT\n","fetching AMZN\n","fetching GOOGL\n","fetching META\n","fetching NVDA\n","fetching TSLA\n","total news: 779\n"]},{"output_type":"execute_result","data":{"text/plain":["         date ticker                                              title  \\\n","0  2025-12-10   AAPL  Apple’s Cook Presses Congress Over Child Onlin...   \n","1  2025-12-10   AAPL  Forget Monthly Dividends, These 5 ETFs Pay Inv...   \n","2  2025-12-10   AAPL  Apple's Tim Cook reportedly on Capitol Hill, O...   \n","3  2025-12-10   AAPL  Euronet Worldwide (EEFT) Stock Is Up, What You...   \n","4  2025-12-10   AAPL  Talk of an AI bubble is just 'ridiculous,' thi...   \n","\n","                                                body                                                url  \n","0  Apple has raised concerns about the App Store ...  https://finnhub.io/api/news?id=e9fa0fb1dcbeaa7...  \n","1  For quite some time, dividends were paid month...  https://finnhub.io/api/news?id=53900e9302a044c...  \n","2  Yahoo Finance Senior Producer John Hyland exam...  https://finnhub.io/api/news?id=c72f50963dc866c...  \n","3  Shares of financial technology provider Eurone...  https://finnhub.io/api/news?id=ebfb97988136477...  \n","4  Investors are still going back and forth over ...  https://finnhub.io/api/news?id=66012dbff0464ba...  "],"text/html":["\n","  <div id=\"df-d9106566-5f34-4adc-8269-e459ce1c93a4\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>date</th>\n","      <th>ticker</th>\n","      <th>title</th>\n","      <th>body</th>\n","      <th>url</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>2025-12-10</td>\n","      <td>AAPL</td>\n","      <td>Apple’s Cook Presses Congress Over Child Onlin...</td>\n","      <td>Apple has raised concerns about the App Store ...</td>\n","      <td>https://finnhub.io/api/news?id=e9fa0fb1dcbeaa7...</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>2025-12-10</td>\n","      <td>AAPL</td>\n","      <td>Forget Monthly Dividends, These 5 ETFs Pay Inv...</td>\n","      <td>For quite some time, dividends were paid month...</td>\n","      <td>https://finnhub.io/api/news?id=53900e9302a044c...</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>2025-12-10</td>\n","      <td>AAPL</td>\n","      <td>Apple's Tim Cook reportedly on Capitol Hill, O...</td>\n","      <td>Yahoo Finance Senior Producer John Hyland exam...</td>\n","      <td>https://finnhub.io/api/news?id=c72f50963dc866c...</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>2025-12-10</td>\n","      <td>AAPL</td>\n","      <td>Euronet Worldwide (EEFT) Stock Is Up, What You...</td>\n","      <td>Shares of financial technology provider Eurone...</td>\n","      <td>https://finnhub.io/api/news?id=ebfb97988136477...</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>2025-12-10</td>\n","      <td>AAPL</td>\n","      <td>Talk of an AI bubble is just 'ridiculous,' thi...</td>\n","      <td>Investors are still going back and forth over ...</td>\n","      <td>https://finnhub.io/api/news?id=66012dbff0464ba...</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-d9106566-5f34-4adc-8269-e459ce1c93a4')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-d9106566-5f34-4adc-8269-e459ce1c93a4 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-d9106566-5f34-4adc-8269-e459ce1c93a4');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","    <div id=\"df-f57a5a31-f8c1-47cd-9c5d-f353cf537d9c\">\n","      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-f57a5a31-f8c1-47cd-9c5d-f353cf537d9c')\"\n","                title=\"Suggest charts\"\n","                style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","      </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","      <script>\n","        async function quickchart(key) {\n","          const quickchartButtonEl =\n","            document.querySelector('#' + key + ' button');\n","          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","          quickchartButtonEl.classList.add('colab-df-spinner');\n","          try {\n","            const charts = await google.colab.kernel.invokeFunction(\n","                'suggestCharts', [key], {});\n","          } catch (error) {\n","            console.error('Error during call to suggestCharts:', error);\n","          }\n","          quickchartButtonEl.classList.remove('colab-df-spinner');\n","          quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","        }\n","        (() => {\n","          let quickchartButtonEl =\n","            document.querySelector('#df-f57a5a31-f8c1-47cd-9c5d-f353cf537d9c button');\n","          quickchartButtonEl.style.display =\n","            google.colab.kernel.accessAllowed ? 'block' : 'none';\n","        })();\n","      </script>\n","    </div>\n","\n","    </div>\n","  </div>\n"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"dataframe","variable_name":"news_df","summary":"{\n  \"name\": \"news_df\",\n  \"rows\": 779,\n  \"fields\": [\n    {\n      \"column\": \"date\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": \"2020-06-12\",\n        \"max\": \"2025-12-10\",\n        \"num_unique_values\": 4,\n        \"samples\": [\n          \"2025-12-09\",\n          \"2020-06-12\",\n          \"2025-12-10\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"ticker\",\n      \"properties\": {\n        \"dtype\": \"category\",\n        \"num_unique_values\": 7,\n        \"samples\": [\n          \"AAPL\",\n          \"MSFT\",\n          \"NVDA\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"title\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 543,\n        \"samples\": [\n          \"Tesla Faces Challenging EV Outlook, Morgan Stanley Says\",\n          \"Dow Jones Futures Fall As Fed Looms; AI Energy Giant GE Vernova Jumps\",\n          \"Tech Weekly: Nvidia gets China nod, eye-catching\\u00a0robots\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"body\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 541,\n        \"samples\": [\n          \"Warner Bros. Discovery's friendly agreement to sell itself to Netflix just got upended by a hostile actor -- Paramount, which made Warner shareholders a higher offer and touched off what is likely to be a lengthy fight in the latest episode of media industry consolidation.  The bid comes after Warner last week agreed to be bought by Netflix for $72 billion.  Netflix\\u2019s vast library includes \\u201cStranger Things\\u201d and \\u201cSquid Game,\\\" while the much smaller Paramount owns its Hollywood studio and major TV networks like CBS and MTV.\",\n          \"Recently, Zacks.com users have been paying close attention to Apple (AAPL). This makes it worthwhile to examine what the stock has in store.\",\n          \"The Meta stake has previously been reported from sources but not confirmed by either firm.  Jose Gonzalo, executive director at French state-owned investment bank Bpifrance \\u200dand an independent director on EssilorLuxottica's board, said that number could rise.  EssilorLuxottica \\u200bwas not immediately available for \\u200ba comment.\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"url\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 544,\n        \"samples\": [\n          \"https://finnhub.io/api/news?id=012da57fbd06a2093f616007d90481eb9d770bdee807ea5e0ab3f79edd6c7b3b\",\n          \"https://finnhub.io/api/news?id=d778ef6ab283aec2fb29f181dc4824951663ec036dfce9319af21bf619d7c55c\",\n          \"https://finnhub.io/api/news?id=877d5352438afbc907addeee5911faf16e4d800a45f85d6a30d00e92ef0d0b8e\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"}},"metadata":{},"execution_count":25}],"source":["\n","FINNHUB_API_KEY = \"d4r5uh1r01qrphadj4k0d4r5uh1r01qrphadj4kg\"\n","DAYS_BACK = 3\n","\n","all_news = []\n","for t in TICKERS:\n","    print(\"fetching\", t)\n","    df_t = fetch_news(t, DAYS_BACK, FINNHUB_API_KEY)\n","    all_news.append(df_t)\n","\n","if all_news:\n","    news_df = pd.concat(all_news, ignore_index=True)\n","else:\n","    news_df = pd.DataFrame(columns=[\"date\", \"ticker\", \"title\", \"body\", \"url\"])\n","\n","print(\"total news:\", len(news_df))\n","news_df.head()"]},{"cell_type":"markdown","id":"9d78414d","metadata":{"id":"9d78414d"},"source":["## 4. Clean and combine title + body"]},{"cell_type":"code","execution_count":null,"id":"035f35ca","metadata":{"colab":{"base_uri":"https://localhost:8080/","height":206},"executionInfo":{"elapsed":266,"status":"ok","timestamp":1765426205705,"user":{"displayName":"Dhimas Aditara","userId":"11895230327487857567"},"user_tz":-540},"id":"035f35ca","outputId":"025ed554-1167-4f04-eb14-74c1db2d74c8"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["         date ticker                                               news\n","0  2025-12-10   AAPL  Apple’s Cook Presses Congress Over Child Onlin...\n","1  2025-12-10   AAPL  Forget Monthly Dividends, These 5 ETFs Pay Inv...\n","2  2025-12-10   AAPL  Apple's Tim Cook reportedly on Capitol Hill, O...\n","3  2025-12-10   AAPL  Euronet Worldwide (EEFT) Stock Is Up, What You...\n","4  2025-12-10   AAPL  Talk of an AI bubble is just 'ridiculous,' thi..."],"text/html":["\n","  <div id=\"df-4b3103a8-edf5-41c4-a677-e0f5bd8ebac7\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>date</th>\n","      <th>ticker</th>\n","      <th>news</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>2025-12-10</td>\n","      <td>AAPL</td>\n","      <td>Apple’s Cook Presses Congress Over Child Onlin...</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>2025-12-10</td>\n","      <td>AAPL</td>\n","      <td>Forget Monthly Dividends, These 5 ETFs Pay Inv...</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>2025-12-10</td>\n","      <td>AAPL</td>\n","      <td>Apple's Tim Cook reportedly on Capitol Hill, O...</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>2025-12-10</td>\n","      <td>AAPL</td>\n","      <td>Euronet Worldwide (EEFT) Stock Is Up, What You...</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>2025-12-10</td>\n","      <td>AAPL</td>\n","      <td>Talk of an AI bubble is just 'ridiculous,' thi...</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-4b3103a8-edf5-41c4-a677-e0f5bd8ebac7')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-4b3103a8-edf5-41c4-a677-e0f5bd8ebac7 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-4b3103a8-edf5-41c4-a677-e0f5bd8ebac7');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","    <div id=\"df-ad634016-a669-49c4-be56-516344ee9c72\">\n","      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-ad634016-a669-49c4-be56-516344ee9c72')\"\n","                title=\"Suggest charts\"\n","                style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","      </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","      <script>\n","        async function quickchart(key) {\n","          const quickchartButtonEl =\n","            document.querySelector('#' + key + ' button');\n","          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","          quickchartButtonEl.classList.add('colab-df-spinner');\n","          try {\n","            const charts = await google.colab.kernel.invokeFunction(\n","                'suggestCharts', [key], {});\n","          } catch (error) {\n","            console.error('Error during call to suggestCharts:', error);\n","          }\n","          quickchartButtonEl.classList.remove('colab-df-spinner');\n","          quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","        }\n","        (() => {\n","          let quickchartButtonEl =\n","            document.querySelector('#df-ad634016-a669-49c4-be56-516344ee9c72 button');\n","          quickchartButtonEl.style.display =\n","            google.colab.kernel.accessAllowed ? 'block' : 'none';\n","        })();\n","      </script>\n","    </div>\n","\n","    </div>\n","  </div>\n"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"dataframe","summary":"{\n  \"name\": \"news_df[[\\\"date\\\", \\\"ticker\\\", \\\"news\\\"]]\",\n  \"rows\": 5,\n  \"fields\": [\n    {\n      \"column\": \"date\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": \"2025-12-10\",\n        \"max\": \"2025-12-10\",\n        \"num_unique_values\": 1,\n        \"samples\": [\n          \"2025-12-10\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"ticker\",\n      \"properties\": {\n        \"dtype\": \"category\",\n        \"num_unique_values\": 1,\n        \"samples\": [\n          \"AAPL\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"news\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 5,\n        \"samples\": [\n          \"Forget Monthly Dividends, These 5 ETFs Pay Investors Every Week For quite some time, dividends were paid monthly, quarterly, annually, or semi-annually. Now, you can collect dividends every single week. That\\u2019s great news for investors looking for regular income, particularly for retirees who need consistent cash flow coming in. Look at the AAPL WeeklyPay ETF (BATS: AAPW), for example. With an expense ratio of 0.99%, ... Forget Monthly Dividends, These 5 ETFs Pay Investors Every Week\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"}},"metadata":{},"execution_count":26}],"source":["\n","news_df = news_df.copy()\n","news_df[\"date\"] = pd.to_datetime(news_df[\"date\"]).dt.date\n","\n","news_df[\"news\"] = (\n","    news_df[\"title\"].fillna(\"\").astype(str).str.strip()\n","    + \" \"\n","    + news_df[\"body\"].fillna(\"\").astype(str).str.strip()\n",").str.strip()\n","\n","news_df = news_df[news_df[\"news\"].str.len() > 0].reset_index(drop=True)\n","news_df[[\"date\", \"ticker\", \"news\"]].head()"]},{"cell_type":"markdown","id":"d3fd8044","metadata":{"id":"d3fd8044"},"source":["## 5. Sentiment models and helpers"]},{"cell_type":"code","execution_count":null,"id":"adcd6c1e","metadata":{"id":"adcd6c1e"},"outputs":[],"source":["\n","SENTIMENT_MODELS = {\n","    \"ProsusAI/finbert\": None,\n","    \"yiyanghkust/finbert-tone\": None,\n","    \"mrm8488/distilroberta-finetuned-financial-news-sentiment-analysis\": None,\n","    \"ahmedrachid/FinancialBERT-Sentiment-Analysis\": None,\n","}\n","\n","\n","def init_sentiment_pipelines():\n","    for name, pipe in SENTIMENT_MODELS.items():\n","        if pipe is None:\n","            print(\"loading\", name)\n","            SENTIMENT_MODELS[name] = pipeline(\"sentiment-analysis\", model=name)\n","\n","\n","def normalize_label(label):\n","    if not label:\n","        return \"neutral\"\n","    l = label.lower()\n","    if \"pos\" in l:\n","        return \"positive\"\n","    if \"neg\" in l:\n","        return \"negative\"\n","    if \"neu\" in l:\n","        return \"neutral\"\n","    return \"neutral\"\n","\n","\n","def label_to_score(label):\n","    l = normalize_label(label)\n","    if l == \"positive\":\n","        return 1.0\n","    if l == \"negative\":\n","        return 0.0\n","    return 0.5"]},{"cell_type":"markdown","id":"94e6f17a","metadata":{"id":"94e6f17a"},"source":["## 6. Function to analyze one news text"]},{"cell_type":"code","execution_count":null,"id":"d11a8875","metadata":{"id":"d11a8875"},"outputs":[],"source":["\n","def analyze_article(text):\n","    if any(p is None for p in SENTIMENT_MODELS.values()):\n","        init_sentiment_pipelines()\n","\n","    text = (text or \"\").strip()\n","    if not text:\n","        return {\"highest_label\": \"neutral\", \"sentiment_score\": 0.5}\n","\n","    res = {}\n","    per_model = []\n","\n","    for name, pipe in SENTIMENT_MODELS.items():\n","        try:\n","            out = pipe(text)[0]\n","            raw_label = out.get(\"label\")\n","            score = float(out.get(\"score\", 0.0))\n","        except Exception as e:\n","            print(\"error with model\", name, \":\", e)\n","            raw_label = None\n","            score = 0.0\n","\n","        norm = normalize_label(raw_label)\n","        key = \"label_\" + re.sub(r\"[^0-9a-zA-Z]+\", \"_\", name)\n","        res[key] = norm\n","        per_model.append({\"label\": norm, \"score\": score})\n","\n","    counts = {\"positive\": 0, \"neutral\": 0, \"negative\": 0}\n","    best_score = {\"positive\": 0.0, \"neutral\": 0.0, \"negative\": 0.0}\n","\n","    for pm in per_model:\n","        lbl = pm[\"label\"]\n","        sc = pm[\"score\"]\n","        counts[lbl] += 1\n","        if sc > best_score[lbl]:\n","            best_score[lbl] = sc\n","\n","    max_count = max(counts.values())\n","    if max_count >= 2:\n","        cands = [lbl for lbl, c in counts.items() if c == max_count]\n","        highest = max(cands, key=lambda lbl: best_score[lbl])\n","    else:\n","        highest = max(best_score.keys(), key=lambda lbl: best_score[lbl])\n","\n","    score = label_to_score(highest)\n","    res[\"highest_label\"] = highest\n","    res[\"sentiment_score\"] = score\n","    return res"]},{"cell_type":"markdown","id":"bf5d96b0","metadata":{"id":"bf5d96b0"},"source":["## 7. Run sentiment on all news"]},{"cell_type":"code","execution_count":null,"id":"e1875b13","metadata":{"colab":{"base_uri":"https://localhost:8080/","height":789},"id":"e1875b13","outputId":"7663f214-06e4-49de-f9f1-02235e8f3e1b","executionInfo":{"status":"ok","timestamp":1765427360483,"user_tz":-540,"elapsed":733882,"user":{"displayName":"Dhimas Aditara","userId":"11895230327487857567"}}},"outputs":[{"metadata":{"tags":null},"name":"stdout","output_type":"stream","text":["loading ProsusAI/finbert\n"]},{"metadata":{"tags":null},"name":"stderr","output_type":"stream","text":["Device set to use cpu\n"]},{"metadata":{"tags":null},"name":"stdout","output_type":"stream","text":["loading yiyanghkust/finbert-tone\n"]},{"metadata":{"tags":null},"name":"stderr","output_type":"stream","text":["Device set to use cpu\n"]},{"metadata":{"tags":null},"name":"stdout","output_type":"stream","text":["loading mrm8488/distilroberta-finetuned-financial-news-sentiment-analysis\n"]},{"metadata":{"tags":null},"name":"stderr","output_type":"stream","text":["Device set to use cpu\n"]},{"metadata":{"tags":null},"name":"stdout","output_type":"stream","text":["loading ahmedrachid/FinancialBERT-Sentiment-Analysis\n"]},{"metadata":{"tags":null},"name":"stderr","output_type":"stream","text":["Device set to use cpu\n"]},{"output_type":"stream","name":"stdout","text":["articles with sentiment: 779\n"]},{"output_type":"execute_result","data":{"text/plain":["         date ticker                                               news label_ProsusAI_finbert  \\\n","0  2025-12-10   AAPL  Apple’s Cook Presses Congress Over Child Onlin...               negative   \n","1  2025-12-10   AAPL  Forget Monthly Dividends, These 5 ETFs Pay Inv...                neutral   \n","2  2025-12-10   AAPL  Apple's Tim Cook reportedly on Capitol Hill, O...                neutral   \n","3  2025-12-10   AAPL  Euronet Worldwide (EEFT) Stock Is Up, What You...               positive   \n","4  2025-12-10   AAPL  Talk of an AI bubble is just 'ridiculous,' thi...                neutral   \n","\n","  label_yiyanghkust_finbert_tone label_mrm8488_distilroberta_finetuned_financial_news_sentiment_analysis  \\\n","0                       negative                                           negative                        \n","1                        neutral                                            neutral                        \n","2                        neutral                                            neutral                        \n","3                       positive                                           positive                        \n","4                        neutral                                            neutral                        \n","\n","  label_ahmedrachid_FinancialBERT_Sentiment_Analysis highest_label  sentiment_score  \n","0                                           negative      negative              0.0  \n","1                                            neutral       neutral              0.5  \n","2                                            neutral       neutral              0.5  \n","3                                           positive      positive              1.0  \n","4                                            neutral       neutral              0.5  "],"text/html":["\n","  <div id=\"df-152687d6-72b9-41f3-9bb4-8ff001f1549d\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>date</th>\n","      <th>ticker</th>\n","      <th>news</th>\n","      <th>label_ProsusAI_finbert</th>\n","      <th>label_yiyanghkust_finbert_tone</th>\n","      <th>label_mrm8488_distilroberta_finetuned_financial_news_sentiment_analysis</th>\n","      <th>label_ahmedrachid_FinancialBERT_Sentiment_Analysis</th>\n","      <th>highest_label</th>\n","      <th>sentiment_score</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>2025-12-10</td>\n","      <td>AAPL</td>\n","      <td>Apple’s Cook Presses Congress Over Child Onlin...</td>\n","      <td>negative</td>\n","      <td>negative</td>\n","      <td>negative</td>\n","      <td>negative</td>\n","      <td>negative</td>\n","      <td>0.0</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>2025-12-10</td>\n","      <td>AAPL</td>\n","      <td>Forget Monthly Dividends, These 5 ETFs Pay Inv...</td>\n","      <td>neutral</td>\n","      <td>neutral</td>\n","      <td>neutral</td>\n","      <td>neutral</td>\n","      <td>neutral</td>\n","      <td>0.5</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>2025-12-10</td>\n","      <td>AAPL</td>\n","      <td>Apple's Tim Cook reportedly on Capitol Hill, O...</td>\n","      <td>neutral</td>\n","      <td>neutral</td>\n","      <td>neutral</td>\n","      <td>neutral</td>\n","      <td>neutral</td>\n","      <td>0.5</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>2025-12-10</td>\n","      <td>AAPL</td>\n","      <td>Euronet Worldwide (EEFT) Stock Is Up, What You...</td>\n","      <td>positive</td>\n","      <td>positive</td>\n","      <td>positive</td>\n","      <td>positive</td>\n","      <td>positive</td>\n","      <td>1.0</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>2025-12-10</td>\n","      <td>AAPL</td>\n","      <td>Talk of an AI bubble is just 'ridiculous,' thi...</td>\n","      <td>neutral</td>\n","      <td>neutral</td>\n","      <td>neutral</td>\n","      <td>neutral</td>\n","      <td>neutral</td>\n","      <td>0.5</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-152687d6-72b9-41f3-9bb4-8ff001f1549d')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-152687d6-72b9-41f3-9bb4-8ff001f1549d button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-152687d6-72b9-41f3-9bb4-8ff001f1549d');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","    <div id=\"df-f023a5ea-bcdb-4fa3-828c-5a548ecf005a\">\n","      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-f023a5ea-bcdb-4fa3-828c-5a548ecf005a')\"\n","                title=\"Suggest charts\"\n","                style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","      </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","      <script>\n","        async function quickchart(key) {\n","          const quickchartButtonEl =\n","            document.querySelector('#' + key + ' button');\n","          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","          quickchartButtonEl.classList.add('colab-df-spinner');\n","          try {\n","            const charts = await google.colab.kernel.invokeFunction(\n","                'suggestCharts', [key], {});\n","          } catch (error) {\n","            console.error('Error during call to suggestCharts:', error);\n","          }\n","          quickchartButtonEl.classList.remove('colab-df-spinner');\n","          quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","        }\n","        (() => {\n","          let quickchartButtonEl =\n","            document.querySelector('#df-f023a5ea-bcdb-4fa3-828c-5a548ecf005a button');\n","          quickchartButtonEl.style.display =\n","            google.colab.kernel.accessAllowed ? 'block' : 'none';\n","        })();\n","      </script>\n","    </div>\n","\n","    </div>\n","  </div>\n"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"dataframe","variable_name":"articles_df","summary":"{\n  \"name\": \"articles_df\",\n  \"rows\": 779,\n  \"fields\": [\n    {\n      \"column\": \"date\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": \"2020-06-12\",\n        \"max\": \"2025-12-10\",\n        \"num_unique_values\": 4,\n        \"samples\": [\n          \"2025-12-09\",\n          \"2020-06-12\",\n          \"2025-12-10\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"ticker\",\n      \"properties\": {\n        \"dtype\": \"category\",\n        \"num_unique_values\": 7,\n        \"samples\": [\n          \"AAPL\",\n          \"MSFT\",\n          \"NVDA\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"news\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 544,\n        \"samples\": [\n          \"TSMC stock target raised at Bernstein on more CoWoS Investing.com -- Bernstein lifted its price target on Taiwan Semiconductor Manufacturing (TSMC) in a note on Monday, pointing to accelerating advanced packaging demand tied to artificial intelligence.\",\n          \"3 Reasons why Berkshire Hathaway Looks Like a Buy Before January 1 Followers of Warren Buffett may bemoan is leave as CEO of Berkshire Hathaway (NYSE:BRK-B) at the end of this year. I know I will. But the reality is that over the decades, Buffett and his team have truly built a world-class company with exposure to some of the highest-quality assets that are about as recession-resistant as they ... 3 Reasons why Berkshire Hathaway Looks Like a Buy Before January 1\",\n          \"The Zacks Analyst Blog Highlights Meta Platforms, SAP SE, Booking Holdings and Willis Lease Finance Meta, SAP and Booking gain on AI adoption, cloud momentum and global travel strength, while Willis Lease works to stabilize after a challenging year.\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"label_ProsusAI_finbert\",\n      \"properties\": {\n        \"dtype\": \"category\",\n        \"num_unique_values\": 3,\n        \"samples\": [\n          \"negative\",\n          \"neutral\",\n          \"positive\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"label_yiyanghkust_finbert_tone\",\n      \"properties\": {\n        \"dtype\": \"category\",\n        \"num_unique_values\": 3,\n        \"samples\": [\n          \"negative\",\n          \"neutral\",\n          \"positive\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"label_mrm8488_distilroberta_finetuned_financial_news_sentiment_analysis\",\n      \"properties\": {\n        \"dtype\": \"category\",\n        \"num_unique_values\": 3,\n        \"samples\": [\n          \"negative\",\n          \"neutral\",\n          \"positive\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"label_ahmedrachid_FinancialBERT_Sentiment_Analysis\",\n      \"properties\": {\n        \"dtype\": \"category\",\n        \"num_unique_values\": 3,\n        \"samples\": [\n          \"negative\",\n          \"neutral\",\n          \"positive\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"highest_label\",\n      \"properties\": {\n        \"dtype\": \"category\",\n        \"num_unique_values\": 3,\n        \"samples\": [\n          \"negative\",\n          \"neutral\",\n          \"positive\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"sentiment_score\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 0.36848539686475695,\n        \"min\": 0.0,\n        \"max\": 1.0,\n        \"num_unique_values\": 3,\n        \"samples\": [\n          0.0,\n          0.5,\n          1.0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"}},"metadata":{},"execution_count":29}],"source":["\n","if news_df.empty:\n","    print(\"no news to analyze\")\n","    articles_df = pd.DataFrame()\n","else:\n","    rows = []\n","    for _, r in news_df.iterrows():\n","        sent = analyze_article(r[\"news\"])\n","        row = {\n","            \"date\": r[\"date\"],\n","            \"ticker\": r[\"ticker\"],\n","            \"news\": r[\"news\"],\n","        }\n","        row.update(sent)\n","        rows.append(row)\n","    articles_df = pd.DataFrame(rows)\n","\n","print(\"articles with sentiment:\", len(articles_df))\n","articles_df.head()"]},{"cell_type":"markdown","id":"77497524","metadata":{"id":"77497524"},"source":["## 8. Average sentiment per ticker"]},{"cell_type":"code","execution_count":null,"id":"dd11e975","metadata":{"colab":{"base_uri":"https://localhost:8080/","height":269},"id":"dd11e975","executionInfo":{"status":"ok","timestamp":1765427360649,"user_tz":-540,"elapsed":1,"user":{"displayName":"Dhimas Aditara","userId":"11895230327487857567"}},"outputId":"2e0314ea-15c7-4ce3-ebdc-63ae594eb4c5"},"outputs":[{"data":{"application/vnd.google.colaboratory.intrinsic+json":{"summary":"{\n  \"name\": \"g\",\n  \"rows\": 7,\n  \"fields\": [\n    {\n      \"column\": \"ticker\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 7,\n        \"samples\": [\n          \"AAPL\",\n          \"AMZN\",\n          \"NVDA\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"avg_sentiment_score\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 0.07636326976359074,\n        \"min\": 0.46774193548387094,\n        \"max\": 0.6884615384615385,\n        \"num_unique_values\": 7,\n        \"samples\": [\n          0.6505376344086021,\n          0.6409090909090909,\n          0.6875\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"recommendation\",\n      \"properties\": {\n        \"dtype\": \"category\",\n        \"num_unique_values\": 2,\n        \"samples\": [\n          \"neutral / unpredictable\",\n          \"price going up today / buy\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}","type":"dataframe","variable_name":"g"},"text/html":["\n","  <div id=\"df-b9ccc7ea-788a-4a8d-a64f-af70a109b7d1\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>ticker</th>\n","      <th>avg_sentiment_score</th>\n","      <th>recommendation</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>AAPL</td>\n","      <td>0.650538</td>\n","      <td>price going up today / buy</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>AMZN</td>\n","      <td>0.640909</td>\n","      <td>price going up today / buy</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>GOOGL</td>\n","      <td>0.688462</td>\n","      <td>price going up today / buy</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>META</td>\n","      <td>0.627358</td>\n","      <td>price going up today / buy</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>MSFT</td>\n","      <td>0.668067</td>\n","      <td>price going up today / buy</td>\n","    </tr>\n","    <tr>\n","      <th>5</th>\n","      <td>NVDA</td>\n","      <td>0.687500</td>\n","      <td>price going up today / buy</td>\n","    </tr>\n","    <tr>\n","      <th>6</th>\n","      <td>TSLA</td>\n","      <td>0.467742</td>\n","      <td>neutral / unpredictable</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-b9ccc7ea-788a-4a8d-a64f-af70a109b7d1')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-b9ccc7ea-788a-4a8d-a64f-af70a109b7d1 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-b9ccc7ea-788a-4a8d-a64f-af70a109b7d1');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","    <div id=\"df-fe065269-31a8-4f66-9c33-76b0d3969c13\">\n","      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-fe065269-31a8-4f66-9c33-76b0d3969c13')\"\n","                title=\"Suggest charts\"\n","                style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","      </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","      <script>\n","        async function quickchart(key) {\n","          const quickchartButtonEl =\n","            document.querySelector('#' + key + ' button');\n","          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","          quickchartButtonEl.classList.add('colab-df-spinner');\n","          try {\n","            const charts = await google.colab.kernel.invokeFunction(\n","                'suggestCharts', [key], {});\n","          } catch (error) {\n","            console.error('Error during call to suggestCharts:', error);\n","          }\n","          quickchartButtonEl.classList.remove('colab-df-spinner');\n","          quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","        }\n","        (() => {\n","          let quickchartButtonEl =\n","            document.querySelector('#df-fe065269-31a8-4f66-9c33-76b0d3969c13 button');\n","          quickchartButtonEl.style.display =\n","            google.colab.kernel.accessAllowed ? 'block' : 'none';\n","        })();\n","      </script>\n","    </div>\n","\n","  <div id=\"id_1e4d1586-b55a-4ab8-9062-42d01e865546\">\n","    <style>\n","      .colab-df-generate {\n","        background-color: #E8F0FE;\n","        border: none;\n","        border-radius: 50%;\n","        cursor: pointer;\n","        display: none;\n","        fill: #1967D2;\n","        height: 32px;\n","        padding: 0 0 0 0;\n","        width: 32px;\n","      }\n","\n","      .colab-df-generate:hover {\n","        background-color: #E2EBFA;\n","        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","        fill: #174EA6;\n","      }\n","\n","      [theme=dark] .colab-df-generate {\n","        background-color: #3B4455;\n","        fill: #D2E3FC;\n","      }\n","\n","      [theme=dark] .colab-df-generate:hover {\n","        background-color: #434B5C;\n","        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","        fill: #FFFFFF;\n","      }\n","    </style>\n","    <button class=\"colab-df-generate\" onclick=\"generateWithVariable('g')\"\n","            title=\"Generate code using this dataframe.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z\"/>\n","  </svg>\n","    </button>\n","    <script>\n","      (() => {\n","      const buttonEl =\n","        document.querySelector('#id_1e4d1586-b55a-4ab8-9062-42d01e865546 button.colab-df-generate');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      buttonEl.onclick = () => {\n","        google.colab.notebook.generateWithVariable('g');\n","      }\n","      })();\n","    </script>\n","  </div>\n","\n","    </div>\n","  </div>\n"],"text/plain":["  ticker  avg_sentiment_score              recommendation\n","0   AAPL             0.650538  price going up today / buy\n","1   AMZN             0.640909  price going up today / buy\n","2  GOOGL             0.688462  price going up today / buy\n","3   META             0.627358  price going up today / buy\n","4   MSFT             0.668067  price going up today / buy\n","5   NVDA             0.687500  price going up today / buy\n","6   TSLA             0.467742     neutral / unpredictable"]},"execution_count":30,"metadata":{},"output_type":"execute_result"}],"source":["\n","if articles_df.empty:\n","    print(\"no articles to summarize\")\n","    ticker_summar to y_df = pd.DataFrame()\n","else:\n","    g = articles_df.groupby(\"ticker\")[\"sentiment_score\"].mean().reset_index()\n","    g = g.rename(columns={\"sentiment_score\": \"avg_sentiment_score\"})\n","\n","    def recommend(x):\n","        if x < 0.45:\n","            return \"price going down today / sell\"\n","        if x > 0.55:\n","            return \"price going up today / buy\"\n","        return \"neutral / unpredictable\"\n","\n","    g[\"recommendation\"] = g[\"avg_sentiment_score\"].apply(recommend)\n","    ticker_summary_df = g\n","\n","ticker_summary_df"]},{"cell_type":"markdown","id":"5ce84a14","metadata":{"id":"5ce84a14"},"source":["## 9. Inspect top news for one ticker"]},{"cell_type":"code","execution_count":null,"id":"2819f196","metadata":{"id":"2819f196"},"outputs":[],"source":["\n","ticker_to_inspect = \"AAPL\"\n","\n","if not articles_df.empty:\n","    sub = articles_df[articles_df[\"ticker\"] == ticker_to_inspect]\n","    sub = sub.sort_values(\"date\", ascending=False)\n","    cols = [c for c in sub.columns if c.startswith(\"label_\")]\n","    display_cols = [\"date\", \"news\"] + cols + [\"highest_label\", \"sentiment_score\"]\n","    sub[display_cols].head(10)\n","else:\n","    print(\"articles_df is empty\")"]},{"cell_type":"markdown","source":["**Conclusion**\n","\n","This project built a complete news-based sentiment analysis system that collects real-time financial headlines, analyzes them using four finance-specific Hugging Face models, and converts the results into simple buy, sell, or neutral recommendations. By averaging sentiment scores across multiple articles, the system provides a quick snapshot of market mood for seven major technology stocks. The results show that combining several models improves reliability and offers an interpretable way to understand how news may influence short-term stock direction."],"metadata":{"id":"huHGu3W1jO3B"},"id":"huHGu3W1jO3B"}],"metadata":{"colab":{"provenance":[{"file_id":"1AlU2A1qokZ__mSvteuipQPSgUEh4lEWr","timestamp":1765761276772}]},"kernelspec":{"display_name":"Python 3","name":"python3"},"language_info":{"name":"python"}},"nbformat":4,"nbformat_minor":5}